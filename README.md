# Godot Showroom

Started learning Godot. Compared to Unity, it feels easier to get started with 3D app development. Since there are no licensing fees, I can freely use it for work as well.

<table>
 <tr>
  <td>
    <img src="docs/ai_robot1.jpg">   
  </td>
  <td>
    <img src="docs/virtual_showroom2.jpg">   
  </td>
  <td>
    <img src="docs/AzumaHouse1.jpg">      
  </td>
    <td>
    <img src="docs/pendulum_snake.jpg">      
   </td>
 </tr>
</table>

## Virtual Showroom

I remade the following project with Godot: https://github.com/araobp/virtual-showroom, but this time is a pure standalone app with neither RaspberryPi nor RAG/sqlite-vec.

To set your Gemini API key, enter your key in the following property editor:

<img src="docs/gemini_api_key.jpg" width=300>

or create "gemini_api_key_env.txt" file with your Gemini API key value. The file is ignored by .gitignore.

### AI Robot with Gemini

I modified the robot from [Unity Starter Assets](https://assetstore.unity.com/packages/essentials/starter-assets-thirdperson-updates-in-new-charactercontroller-pa-196526) with Blender and added Mixamo animations.

I operate the robot using natural language instructions via Gemini.

A simple AI Agent implementation with Gemini. The agent can recognize what it sees and can be controlled by natural language.

The `ai_robot` project has two main scenes:

*   **Recognition:** The robot sees a picture and can answer questions about it.
*   **Control:** The robot can be controlled by natural language. It can point, dance, jump, and stop.

The `control` scene uses the function calling feature of the Gemini API to control the robot's actions.

<table>
 <tr>
  <td>
   <img src="docs/ai_robot2.jpg">   
  </td>
  <td>
   <img src="docs/ai_robot3.jpg">   
  </td>
 </tr>
 <tr>
  <td>
   <img src="docs/ai_robot4.jpg">
  </td>
  <td>
   <img src="docs/ai_robot5.jpg">
  </td>  
 </tr>
</table>

=> [Code](/ai_robot)

### Virtual Showroom with Gemini

I've confirmed that the Gemini API can be used from GDScript.

<table>
 <tr>
  <td>
   <img src="docs/virtual_showroom1.jpg">
  </td>
  <td>
   <img src="docs/virtual_showroom2.jpg">
  </td>
 </tr>
</table>


=> [Code](/virtual_showroom)

## Azuma House

[Azuma House](https://www.metalocus.es/en/news/row-house-sumiyoshi-azuma-house-tadao-ando)

Created based on [a publicly available IFC BIM model](https://openifcmodel.cs.auckland.ac.nz/). Characters were created with MPFB. The background is [a NASA star map](https://svs.gsfc.nasa.gov/4851/).

<table>
 <tr>
  <td>
    <img src="docs/AzumaHouse1.jpg">   
  </td>
  <td>
    <img src="docs/AzumaHouse2.jpg">    
  </td>
  <tr>
  <td>
    <img src="docs/AzumaHouse3.jpg">    
  </td>
  <td>
    <img src="docs/AzumaHouse4.jpg">    
  </td>   
  </tr>
 </tr>
</table>

=> [Code](/azuma_house)

Use W/A/S/D, I/J/K/L and UP/DOWN keys to move or rotate the camera in the scene.

You can see an MPFB character walking on the first floor of the building. 

## Pendulum Snake simulation in Physics 3D

<img src="docs/pendulum_snake.jpg" width=500>

=> [Code](/pendulum_snake)

=> [YouTube](https://youtu.be/sQtlIRY0ktM)

## Test projects for each function

### Visual Shader Editor test

<img src="docs/visual_shader_editor.jpg" width=400>

=> [Code](/visual_shader_editor_test)

### Physics test

=> [Code](/physics_test)

### Audio test

=> [Code](/audio_test)

### Audio Listener test

<img src="docs/audio_listener_test.jpg" width=400>

=> [Code](/audio_listener_test)

Use WASD keys to move/rotate the camera.

### Mixamo test ([Mixamo](https://www.mixamo.com/))

I've confirmed that Mixamo models can be imported into Godot. Controlling animations from GDScript is also easy.

<img src="docs/animationtest.jpg" width=400>

=> [Code](/animation_test)

### MPFB test ([MPFB](https://static.makehumancommunity.org/mpfb.html))

It has been confirmed that models created with MPFB can be imported into Godot. Animation control from GDScript is also easy.

<img src="docs/mpfbtest.jpg" width=400>

=> [Code](/mpfb_test)

### Testing Function calling by Gemini

<img src="docs/function_calling.jpg" width=500>

=> [Code](/function_calling)

=> [Video](docs/function_calling.m4v)

### Testing Root Motion with Mixamo Standard Walk animation

I used this Blender add-on for Godot Root Motion: https://extensions.blender.org/add-ons/import-mixamo-root-motion/

<img src="docs/root_motion.jpg" width=500>

=> [Code](/root_motion_test)

```
Operation:

    UP
LEFT RIGHT
   DOWN

UP: Walk
DOWN: Idle
RIGHT: Turn right
LEFT: Turn left
```

## Notes on MPFB

The eye shader generated by MPFB does not work with Godot, so I made this eye material:

<img src="docs/eyes.jpg" width=200>

## Tips

=> [Tips](docs/TIPS.md)

## References

- [Godot documentation](https://docs.godotengine.org/en/stable/)
- [Mixamo](https://www.mixamo.com/)
- [HTTPRequest with await](https://zenn.dev/submax/articles/30433a77da3cca)
- [Multiple resolutions](https://docs.godotengine.org/en/stable/tutorials/rendering/multiple_resolutions.html)
- [How to Make Simple Realistic Skyboxes Using Noise in Godot - Godot 4 Tutorial](https://www.youtube.com/watch?v=gBKFJUETxIw)
- [How to Use the World Environment To Improve Visuals in Godot (Godot 4 Tutorial)](https://www.youtube.com/watch?v=nEiz9h4Ns0I)
- [Oscillation of a Simple Pendulum](https://www.acs.psu.edu/drussell/Demos/Pendulum/Pendulum.html)
- [Pendulum Wave Calculator](https://cs.stanford.edu/people/paulliu/webapps/pendulumcalc.html)
- [Function Calling with the Gemini API](https://ai.google.dev/gemini-api/docs/function-calling?example=meeting#rest_1)
